{
  "version": "3.9",
  "services": [
    {
      "id": "grimoire",
      "container_name": "grimoire",
      "image": "goniszewski/grimoire:0.5.0",
      "restart": "unless-stopped",
      "environment": {
        "PORT": "2007",
        "PUBLIC_HTTPS_ONLY": "false",
        "PUBLIC_SIGNUP_DISABLED": "false"
      },
      "volumes": [
        {
          "type": "volume",
          "source": "grimoire_data",
          "target": "/app/data/"
        }
      ],
      "ports": [
        {
          "target": 5173,
          "published": 2007,
          "protocol": "tcp",
          "mode": "host"
        }
      ],
      "healthcheck": {
        "test": [
          "CMD",
          "wget",
          "--no-verbose",
          "--tries=1",
          "--spider",
          "http://localhost:2007/api/health"
        ],
        "interval": "30s",
        "timeout": "10s",
        "retries": 3
      }
    }
  ],
  "volumes": {
    "grimoire_data": {}
  }
}
